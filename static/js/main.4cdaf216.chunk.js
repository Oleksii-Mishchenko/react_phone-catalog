(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(31).concat([function(e,t,c){},function(e,t,c){},function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(25),s=c.n(a),n=(c(31),c(6)),r=c(4),i=(c(32),c(33),c(10)),o=c.n(i),l=c(0),u=function(e){var t=e.parentClass;return Object(l.jsx)("div",{className:o()(t,"logo"),children:Object(l.jsx)(n.b,{to:"/",className:"logo__link",children:Object(l.jsx)("img",{src:"./img/icons/Logo.png",alt:"Logo",className:"logo__img"})})})},j=(c(36),function(){window.scrollTo({top:0,behavior:"smooth"})}),d=function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsxs)("div",{className:"footer__container",children:[Object(l.jsx)(u,{}),Object(l.jsxs)("div",{className:"footer__links",children:[Object(l.jsx)(n.b,{to:"https://github.com/Oleksii-Mishchenko/react_phone-catalog",className:"footer__link",target:"_blank",children:"GITHUB"}),Object(l.jsx)(n.b,{to:"https://github.com/Oleksii-Mishchenko",className:"footer__link",target:"_blank",children:"CONTACTS"}),Object(l.jsx)(n.b,{to:"https://github.com/Oleksii-Mishchenko?tab=repositories",className:"footer__link",target:"_blank",children:"RIGHTS"})]}),Object(l.jsx)("button",{type:"button",onClick:j,className:"footer__back-to-top",children:"Back to top"})]})})},m=c(3),b=c(1),h=c.n(b),O=(c(37),function(e){var t=Object(b.useState)(e),c=Object(m.a)(t,2),a=c[0],s=c[1],n=Object(b.useRef)(null),r=function(){n.current&&s(!a)};return Object(b.useEffect)((function(){return document.addEventListener("click",r),function(){document.removeEventListener("click",r)}})),[n,a,s]}),g=(c(38),function(e){var t=e.children,c=e.text,a=e.path,s=e.linkType,r=e.goBackLocation;return Object(l.jsx)(n.c,{to:a,state:r,className:function(e){var t=e.isActive;return o()("header__".concat(s,"-link"),"nav-link",{"nav-link--active":t})},children:t&&t||c&&c})}),p=c(26),_=c.n(p),f=function(e,t){var c=new URLSearchParams(t);return Object.entries(e).forEach((function(e){var t=Object(m.a)(e,2),a=t[0],s=t[1];null===s?c.delete(a):c.set(a,s.toString())})),c.toString()},x=(c(40),function(e){var t=e.catPath,c=Object(r.n)(),a=Object(b.useState)(!1),s=Object(m.a)(a,2),i=s[0],u=s[1],j=Object(n.d)(),d=Object(m.a)(j,2),h=d[0],O=d[1],g=h.get("query")||"",p=Object(b.useState)(""),x=Object(m.a)(p,2),v=x[0],N=x[1];Object(b.useEffect)((function(){N(g)}),[c]);var y=Object(b.useCallback)(_()((function(e){var t=f(e,h);O(t)}),1e3),[c]);return Object(l.jsx)("form",{className:o()("search",{"search--focused":i}),children:Object(l.jsxs)("label",{className:"search__label",children:[Object(l.jsx)("input",{type:"search",className:"search__input",placeholder:"Search in ".concat(t,"..."),value:v,onChange:function(e){N(e.target.value),y({query:e.target.value||null})},onFocus:function(){return u(!0)},onBlur:function(){return u(!1)}}),Object(l.jsx)("img",{src:"./img/icons/Search.svg",className:"search__image",alt:"Search"})]})})}),v=c(7),N=c(9),y=c(23),k=c(5),w=c.n(k),C="https://mate-academy.github.io/react_phone-catalog/_new/";function P(e){return new Promise((function(t){setTimeout(t,e)}))}var S=function(){var e=Object(v.a)(w.a.mark((function e(t,c){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(300);case 2:return e.next=4,fetch(C+t,{method:c});case 4:if((a=e.sent).ok){e.next=7;break}throw new Error;case 7:return e.abrupt("return",a.json());case 8:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),E=function(e){return S(e,"GET")},T=function(){return E("products.json")};function M(e,t){var c=Object(b.useState)((function(){var c=localStorage.getItem(e);if(null===c)return t;try{return JSON.parse(c)}catch(a){return t}})),a=Object(m.a)(c,2),s=a[0],n=a[1];return[s,function(t){localStorage.setItem(e,JSON.stringify(t)),n(t)}]}var I,A={products:[],cart:{},cartItemsNumber:0,changeCart:function(){},favouriteIds:[],changeFavourites:function(){}},q=h.a.createContext(A),L=function(e){var t=e.children,c=Object(b.useState)([]),a=Object(m.a)(c,2),s=a[0],n=a[1],r=M("cart",{}),i=Object(m.a)(r,2),o=i[0],u=i[1],j=M("favourites",[]),d=Object(m.a)(j,2),h=d[0],O=d[1],g=Object(b.useMemo)((function(){return Object.values(o).reduce((function(e,t){return e+t.quantity}),0)}),[o]),p=function(e,t){var c=Object(y.a)({},o);if(!(e in o)){var a=s.find((function(t){return t.itemId===e}));a&&(c[e]={good:a,quantity:0,itemTotalPrice:0})}c[e].quantity+=t,c[e].itemTotalPrice=c[e].good.price*c[e].quantity,c[e].quantity<=0&&delete c[e],u(c)},_=function(e){var t=h.includes(e)?Object(N.a)(h).filter((function(t){return t!==e})):[].concat(Object(N.a)(h),[e]);O(t)};Object(b.useEffect)((function(){var e=function(){var e=Object(v.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T();case 3:t=e.sent,n(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(A.products);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var f=Object(b.useMemo)((function(){return{products:s,cart:o,cartItemsNumber:g,changeCart:p,favouriteIds:h,changeFavourites:_}}),[s,o,h]);return Object(l.jsx)(q.Provider,{value:f,children:t})},F=(c(41),h.a.memo((function(e){var t=e.className,c=e.num;return Object(l.jsx)("span",{className:o()(t,"sticker"),children:c})}))),R=function(){var e=O(!1),t=Object(m.a)(e,3),c=t[0],a=t[1],s=t[2],n=Object(r.r)().itemId,i=Object(r.n)(),j=i.pathname,d=i.search,h=j.split("/")[1],p=Object(b.useMemo)((function(){return["phones","tablets","accessories","favourites"]}),[]).includes(h)&&!n,_=Object(b.useContext)(q),f=_.cartItemsNumber,v=_.favouriteIds;return Object(l.jsxs)("header",{className:"header",children:[Object(l.jsxs)("div",{className:"header__left",children:[Object(l.jsx)(u,{parentClass:"header__logo"}),Object(l.jsx)("nav",{className:o()("header__nav",{"header__nav--active":a}),children:Object(l.jsxs)("ul",{className:"header__nav-list",children:[Object(l.jsx)("li",{className:"header__nav-item",children:Object(l.jsx)(g,{path:"/",linkType:"nav",text:"HOME"})}),Object(l.jsx)("li",{className:"header__nav-item",children:Object(l.jsx)(g,{path:"phones",linkType:"nav",text:"PHONES"})}),Object(l.jsx)("li",{className:"header__nav-item",children:Object(l.jsx)(g,{path:"/tablets",linkType:"nav",text:"TABLETS"})}),Object(l.jsx)("li",{className:"header__nav-item",children:Object(l.jsx)(g,{path:"accessories",linkType:"nav",text:"ACCESSORIES"})})]})})]}),Object(l.jsxs)("div",{className:"header__right",children:[p&&Object(l.jsx)(x,{catPath:h}),Object(l.jsx)("div",{className:"header__tile",children:Object(l.jsxs)(g,{path:"favourites",linkType:"tile",children:[Object(l.jsx)("img",{src:"./img/icons/Favourites.svg",alt:"Favourites",className:"header__tile-image"}),v.length>0&&Object(l.jsx)(F,{className:"header__tile-sticker",num:v.length})]})}),Object(l.jsx)("div",{className:"header__tile",children:Object(l.jsxs)(g,{path:"cart",linkType:"tile",goBackLocation:{pathname:j,search:d},children:[Object(l.jsx)("img",{src:"./img/icons/Cart.svg",alt:"Cart",className:"header__tile-image"}),f>0&&Object(l.jsx)(F,{className:"header__tile-sticker",num:f})]})}),a?Object(l.jsx)("button",{ref:c,type:"button",className:"header__menu-button",children:Object(l.jsx)("img",{src:"./img/icons/Close.svg",alt:"Menu",className:"header__tile-image"})}):Object(l.jsx)("button",{type:"button",className:"header__menu-button",onClick:function(){return s(!0)},children:Object(l.jsx)("img",{src:"./img/icons/Burger.svg",alt:"Menu",className:"header__tile-image"})})]})]})},B=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)(L,{children:[Object(l.jsx)(R,{}),Object(l.jsx)("main",{className:"App__page page",children:Object(l.jsx)("div",{className:"page__container",children:Object(l.jsx)(r.b,{})})})]}),Object(l.jsx)(d,{})]})},D=[{id:1,imgName:"banner-phones.png"},{id:2,imgName:"banner-tablets.png"},{id:3,imgName:"banner-accessories.png"}],H=(c(42),function(){return Object(l.jsxs)("section",{className:"page__section categories",children:[Object(l.jsx)("h1",{className:"categories__title",children:"Shop by category"}),Object(l.jsxs)("div",{className:"categories__container",children:[Object(l.jsxs)(n.b,{to:"/phones",className:"categories__card",children:[Object(l.jsx)("div",{className:" categories__card-image categories__card-image--phones ",children:Object(l.jsx)("img",{src:"".concat(C,"img/category-phones.png"),alt:"Category phones",className:"categories__image"})}),Object(l.jsx)("p",{className:"categories__name",children:"Mobile phones"}),Object(l.jsx)("p",{className:"categories__quantity",children:"95 models"})]}),Object(l.jsxs)(n.b,{to:"/tablets",className:"categories__card",children:[Object(l.jsx)("div",{className:" categories__card-image categories__card-image--tablets ",children:Object(l.jsx)("img",{src:"".concat(C,"img/category-tablets.png"),alt:"Category tablets",className:"categories__image"})}),Object(l.jsx)("p",{className:"categories__name",children:"Tablets"}),Object(l.jsx)("p",{className:"categories__quantity",children:"24 models"})]}),Object(l.jsxs)(n.b,{to:"/accessories",className:"categories__card",children:[Object(l.jsx)("div",{className:" categories__card-image categories__card-image--accessories ",children:Object(l.jsx)("img",{src:"".concat(C,"img/category-accessories.png"),alt:"Category accessories",className:"categories__image"})}),Object(l.jsx)("p",{className:"categories__name",children:"Accessories"}),Object(l.jsx)("p",{className:"categories__quantity",children:"100 models"})]})]})]})});!function(e){e.HotPrices="hot prices",e.BrandNew="brand new models",e.Suggested="you may also like"}(I||(I={}));c(43),c(44);var $,J=function(e){var t=e.id,c=Object(b.useContext)(q),a=c.cart,s=c.changeCart,n=t in a;return Object(l.jsx)("button",{type:"button",className:o()("add-to-cart-button",{"add-to-cart-button--selected":n}),onClick:function(){return s(t,1)},children:n?"Added to cart":"Add to cart"})},G=(c(45),function(e){var t=e.id,c=Object(b.useContext)(q),a=c.favouriteIds,s=c.changeFavourites,n=a.some((function(e){return e===t}));return Object(l.jsx)("button",{type:"button",className:"add-to-fav",onClick:function(){s(t)},children:Object(l.jsx)("img",{src:"./img/icons/Favourites".concat(n?"Red":"",".svg"),alt:"Add to favourites",className:"add-to-fav__image"})})}),U=function(e){return Object.entries(e).map((function(e){return["ram"===e[0]?e[0].toUpperCase():e[0].charAt(0).toUpperCase()+e[0].slice(1),e[1]]}))},z=(c(46),function(e){var t=e.specs,c=e.mode;return Object(l.jsx)("ul",{className:"specs",children:t.map((function(e){var t=Object(m.a)(e,2),a=t[0],s=t[1];return Object(l.jsxs)("li",{className:"specs__item",children:[Object(l.jsx)("div",{className:"specs__name-".concat(c),children:a}),Object(l.jsx)("div",{className:"specs__value-".concat(c),children:s})]},a)}))})});!function(e){e.Medium="medium",e.Large="large"}($||($={}));var V=function(e){var t=e.hasDiscount,c=e.product,a=Object(r.n)(),s=a.pathname,i=a.search,o=c.category,u=c.itemId,j=c.name,d=c.fullPrice,m=c.price,h=c.screen,O=c.capacity,g=c.ram,p=c.image,_=Object(b.useMemo)((function(){return U({screen:h,capacity:O,ram:g})}),[c]);return Object(l.jsxs)("div",{className:"product-card",children:[Object(l.jsxs)(n.b,{to:"/".concat(o,"/").concat(u),state:{pathname:s,search:i},className:"product-card__link",children:[Object(l.jsx)("img",{src:C+p,alt:j,className:"product-card__image"}),Object(l.jsx)("p",{className:"product-card__title",children:j})]}),Object(l.jsx)("div",{className:"product-card__price",children:t?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{className:"product-card__actual-price",children:"$".concat(m)}),Object(l.jsx)("span",{className:"product-card__initial-price",children:"$".concat(d)})]}):Object(l.jsx)("span",{className:"product-card__actual-price",children:"$".concat(d)})}),Object(l.jsx)("div",{className:"product-card__specs",children:Object(l.jsx)(z,{specs:_,mode:$.Medium})}),Object(l.jsxs)("div",{className:"product-card__buttons",children:[Object(l.jsx)(J,{id:u}),Object(l.jsx)("div",{className:"product-card__buttons-fav-container",children:Object(l.jsx)(G,{id:u})})]})]})},X=(c(47),h.a.memo((function(e){var t=e.handleClick,c=e.style,a=e.disabled,s=e.imgName;return Object(l.jsx)("button",{style:c,onClick:t,type:"button",className:"button",disabled:a,children:Object(l.jsx)("img",{className:"button__image",src:"./img/icons/".concat(s,".svg"),alt:s})})}))),Y=(c(48),function(e){var t=e.name,c=e.products,a=t!==I.BrandNew,s=Object(b.useState)(0),n=Object(m.a)(s,2),r=n[0],i=n[1],o=Object(b.useMemo)((function(){return function(e){for(var t=[],c=1,a=0;a<e.length;a+=4){var s=e.slice(a,a+4);t.push({id:c,slideProducts:s}),c+=1}return t}(c)}),[c]),u=function(e){return i((function(t){return t+e}))};return Object(l.jsxs)("section",{className:"page__section promo",children:[Object(l.jsxs)("div",{className:"promo__header",children:[Object(l.jsx)("h1",{className:"promo__title",children:t}),Object(l.jsxs)("div",{className:"promo__controls",children:[Object(l.jsx)(X,{disabled:0===r,handleClick:function(){return u(-1)},imgName:"LeftArrow"}),Object(l.jsx)(X,{disabled:r>=o.length-1,handleClick:function(){return u(1)},imgName:"RightArrow"})]})]}),Object(l.jsx)("div",{className:"promo__screen",children:Object(l.jsx)("div",{"data-cy":"cardsContainer",style:{transform:"translateX(-".concat(100*r,"%)")},className:"promo__slider",children:o.map((function(e){return Object(l.jsx)("div",{className:"promo__slide",children:e.slideProducts.map((function(e){return Object(l.jsx)(V,{hasDiscount:a,product:e},e.id)}))},e.id)}))})})]})}),W=(c(49),function(e){var t=e.slides,c=Object(b.useState)(t[0]),a=Object(m.a)(c,2),s=a[0],n=a[1],r=t.indexOf(s),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c=0;c=r+e<0?t.length-1:(r+e)%t.length,n(t[c])};return Object(b.useEffect)((function(){var e=setInterval((function(){i(1)}),5e3);return function(){clearInterval(e)}}),[s]),Object(l.jsxs)("section",{className:"slider",children:[Object(l.jsxs)("div",{className:"slider__base",children:[Object(l.jsx)(X,{handleClick:function(){i(-1)},style:{height:"100%"},disabled:!1,imgName:"LeftArrow"}),Object(l.jsx)("div",{className:"slider__screen",children:Object(l.jsx)("div",{style:{transform:"translateX(-".concat(100*r,"%)")},className:"slider__list",children:t.map((function(e){return Object(l.jsx)("div",{className:"slider__slide",children:Object(l.jsx)("img",{src:"".concat(C,"/img/").concat(e.imgName),alt:e.imgName,className:"slider__image"})},e.id)}))})}),Object(l.jsx)(X,{handleClick:function(){i(1)},style:{height:"100%"},disabled:!1,imgName:"RightArrow"})]}),Object(l.jsx)("div",{className:"slider__dots",children:t.map((function(e,c){return Object(l.jsx)("button",{onClick:function(){var e;(e=c)!==r&&n(t[e%t.length])},type:"button","aria-label":"Go to slide ".concat(c),className:o()("slider__dot",{"slider__dot--active":e.id===s.id})},e.id)}))})]})}),K=(c(50),function(){return Object(l.jsx)("div",{className:"loader",children:Object(l.jsx)("div",{className:"loader__content"})})}),Q={hotPrices:function(e){return Object(N.a)(e).sort((function(e,t){var c=e.fullPrice-e.price;return t.fullPrice-t.price-c}))},brandNew:function(e){return Object(N.a)(e).sort((function(e,t){return t.fullPrice-e.fullPrice}))},suggested:function(e){for(var t=Object(N.a)(e),c=t.length-1;c>0;c-=1){var a=Math.floor(Math.random()*(c+1)),s=t[c];t[c]=t[a],t[a]=s}return t}};function Z(e){var t=Object(b.useState)(e),c=Object(m.a)(t,2),a=c[0],s=c[1],n=Object(b.useState)(!0),r=Object(m.a)(n,2),i=r[0],o=r[1],l=Object(b.useState)(!1),u=Object(m.a)(l,2),j=u[0],d=u[1],h=Object(b.useState)(""),O=Object(m.a)(h,2),g=O[0],p=O[1],_=function(){var e=Object(v.a)(w.a.mark((function e(){var t,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,T();case 4:t=e.sent,c=Object(y.a)({},a),Object.keys(a).forEach((function(e){c[e]=Q[e](t)})),s(c),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),d(!0),p("Error occured while loading promo products");case 14:return e.prev=14,o(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return Object(b.useEffect)((function(){_()}),[]),[a,i,j,g,p]}c(51);var ee,te=function(e){var t=e.errorMessage,c=e.setErrorMessage,a=O(!0),s=Object(m.a)(a,3),n=s[0],r=s[1],i=s[2];return Object(b.useEffect)((function(){return function(){c("")}}),[r]),Object(l.jsx)("div",{className:"error-modal",ref:n,children:Object(l.jsxs)("div",{className:"error-modal__content",children:[Object(l.jsx)("h1",{className:"error-modal__header",children:"Error"}),Object(l.jsx)("p",{className:"error-modal__message",children:t}),Object(l.jsx)("button",{className:"error-modal__button",type:"button",onClick:function(){return i(!1)},children:"Close"})]})})},ce=function(){var e=Z({hotPrices:[],brandNew:[]}),t=Object(m.a)(e,5),c=t[0],a=c.hotPrices,s=c.brandNew,n=t[1],r=t[2],i=t[3],o=t[4];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(W,{slides:D}),i&&Object(l.jsx)(te,{errorMessage:i,setErrorMessage:o}),n&&Object(l.jsx)(K,{}),!n&&!r&&Object(l.jsx)(Y,{name:I.HotPrices,products:a}),Object(l.jsx)(H,{}),n&&Object(l.jsx)(K,{}),!n&&!r&&Object(l.jsx)(Y,{name:I.BrandNew,products:s})]})},ae=(c(52),c(53),function(){var e=Object(r.n)().pathname.slice(1).split("/");return Object(l.jsxs)("section",{className:"breadcrumbs",children:[Object(l.jsx)(n.b,{to:"/",title:"Home",className:"breadcrumbs__home",children:Object(l.jsx)("img",{src:"./img/icons/Home.svg",alt:"Home"})}),!!e.length&&e.map((function(t,c){return Object(l.jsxs)(h.a.Fragment,{children:[Object(l.jsx)("img",{src:"./img/icons/RightArrow.svg",alt:"Right Arrow",className:"breadcrumbs__arrow"}),c===e.length-1?Object(l.jsx)("span",{className:"breadcrumbs__link",children:t}):Object(l.jsx)(n.b,{to:"/".concat(t),className:"breadcrumbs__link",children:t})]},t)}))]})});!function(e){e.Phones="phones",e.Tablets="tablets",e.Accessories="accessories"}(ee||(ee={}));var se;!function(e){e.Sorter="sorter",e.Paginator="paginator"}(se||(se={}));var ne,re=c(8),ie={sorter:{name:"sortBy",title:"Sort by",options:[{"No sorting":null},{Newest:"age"},{Alphabetically:"name"},{Cheapest:"price"}]},paginator:{name:"onPage",title:"Items on page",options:[{All:null},{4:4},{8:8},{16:16}]}},oe=(c(54),function(e){var t=e.dropdownType,c=ie[t],a=c.name,s=c.title,r=c.options,i=Object(b.useState)(!1),o=Object(m.a)(i,2),u=o[0],j=o[1],d=Object(b.useRef)(null),h=Object(n.d)(),O=Object(m.a)(h,2),g=O[0],p=O[1],_=g.get(a)||"",x=r.find((function(e){var t;return(null===(t=Object.values(e)[0])||void 0===t?void 0:t.toString())===_}))||r[0],v=Object.keys(x)[0],N=Object.values(x)[0];return Object(b.useEffect)((function(){_!==(null===N||void 0===N?void 0:N.toString())&&p(f(Object(re.a)({},a,null),g))}),[_,N]),Object(b.useEffect)((function(){if(u){var e=function(e){d.current&&!d.current.contains(e.target)&&j(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}}),[u]),Object(l.jsxs)("div",{className:"dropdown dropdown--".concat(a),children:[Object(l.jsx)("p",{className:"dropdown__title",children:s}),Object(l.jsxs)("button",{type:"button",className:"dropdown__button",onClick:function(){j((function(e){return!e}))},children:[v,Object(l.jsx)("img",{src:"./img/icons/DownArrow.svg",alt:"Arrow",className:"dropdown__button-arrow"})]}),u&&Object(l.jsx)("ul",{className:"dropdown__menu",ref:d,children:r.map((function(e){var t,c=Object(m.a)(Object.entries(e)[0],2),s=c[0],r=c[1],i=f((t={},Object(re.a)(t,a,r),Object(re.a)(t,"page",1),t),g);return Object(l.jsx)("li",{className:"dropdown__item",children:Object(l.jsx)(n.b,{className:"dropdown__link",to:"?".concat(i),onClick:function(){j((function(e){return!e}))},children:s})},s)}))},a)]})});c(55);!function(e){e.Default="default",e.ProductDoesntExist="does not exist",e.EmptyCategory="empty category",e.EmptyCart="empty cart",e.EmptyFavourites="empty favourites",e.NoSearchResults="no search results",e.PageNotFound="page not found"}(ne||(ne={}));var le=[{name:ne.ProductDoesntExist,image:"./img/no_results/NotExist.png",warningText:"was not found or is not listed in our catalog.",suggestionText:"Please check the entered product name."},{name:ne.EmptyCategory,image:"./img/no_results/EmptyCategory.png",warningText:"category is empty at this time, but we are doing our best to change it.",suggestionText:"Please try our other categories or come back again later."},{name:ne.EmptyCart,image:"./img/no_results/EmptyCart.png",warningText:"your cart is empty at this time, but we hope it won't last for long...",suggestionText:"\u0421ome back again later when you have made your decision to purchase."},{name:ne.EmptyFavourites,image:"./img/no_results/NoFavourites.png",warningText:"You still have no favourite gadgets...",suggestionText:"Have you seen our new phones? You'll definitely love them."},{name:ne.NoSearchResults,image:"./img/no_results/NoSearchResults.png",warningText:"was not found in this catalog.",suggestionText:"Please try again with another keyword."},{name:ne.PageNotFound,image:"./img/no_results/PageNotFound.png",warningText:"the page you are looking for does'nt exist anymore or might never existed.",suggestionText:"But that's totally ok! Just click the button below and start from the home page."}],ue={name:ne.Default,image:"./img/no_results/NotExist.png",warningText:"no results at this time.",suggestionText:"Come again later."},je=function(e){var t=e.query,c=e.caseName,a=le.find((function(e){return e.name===c}))||ue,s=a.name,n=a.image,r=a.warningText,i=a.suggestionText;return Object(l.jsxs)("div",{className:"no-results",children:[Object(l.jsx)("img",{src:n,alt:s,className:"no-results__image"}),Object(l.jsx)("p",{className:"no-results__warning",children:t?'"'.concat(t,'" ').concat(r):r}),Object(l.jsx)("p",{className:"no-results__suggestion",children:i})]})};c(56);var de=h.a.memo((function(e){var t=e.totalItems,c=e.itemsPerPage,a=e.activePage,s=Object(n.d)(),r=Object(m.a)(s,2),i=r[0],o=r[1],u=Object(b.useMemo)((function(){return function(e,t,c){for(var a=Math.ceil(e/t),s=[],n=1;n<=a;n+=1)s.push({id:"".concat(n),name:n});return s.length<=5?s:c<=3?(s.splice(5,s.length-6,{id:"end",name:"..."}),s):c>=s.length-2?(s.splice(1,s.length-6,{id:"start",name:"..."}),s):(s.splice(c+2,s.length-(c+3),{id:"end",name:"..."}),s.splice(1,c-4,{id:"start",name:"..."}),s)}(t,c,a)}),[t,c,a]),j=+u[u.length-1].name,d=function(e){var t=f(e,i);o(t)};Object(b.useEffect)((function(){a>j&&d({page:j}),(Number.isNaN(a)||a<1)&&d({page:1})}),[u,a]);var h=function(e){d({page:a+e})};return Object(l.jsxs)("div",{className:"pagination",children:[Object(l.jsx)(X,{handleClick:function(){return h(-1)},disabled:1===a,imgName:"LeftArrow"}),Object(l.jsx)("div",{className:"pagination__pages",children:u.map((function(e){var t=e.id,c=e.name,s=c===a,r=f({page:c},i);return"..."===c||s?Object(l.jsx)("span",{className:s?"pagination__page pagination__page--active":"pagination__ellipsis",children:Object(l.jsx)("span",{className:s?"pagination__page-name pagination__page-name--active":"pagination__ellipsis-name",children:c})},t):Object(l.jsx)(n.b,{to:"?".concat(r),className:"pagination__page",children:Object(l.jsx)("span",{className:"pagination__page-name",children:c})},t)}))}),Object(l.jsx)(X,{disabled:a===j,handleClick:function(){return h(1)},imgName:"RightArrow"})]})})),me=function(e){var t=Object(n.d)(),c=Object(m.a)(t,1)[0],a=c.get("query")||"",s=c.get("sortBy")||"",r=+(c.get("onPage")||0),i=+(c.get("page")||1),o=Object(N.a)(e);a&&(o=o.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}))),s&&(o=o.sort((function(e,t){switch(s){case"age":return t.year-e.year;case"price":return e.fullPrice-t.fullPrice;case"name":return e.name.localeCompare(t.name);default:return 0}})));var l=o.length;if(r){var u=r*(i-1),j=u+r;o=o.slice(u,j)}return{visibleProducts:o,totalVisibleProducts:l,query:a,onPage:r||l,page:i}},be=function(){var e=Object(r.n)().pathname,t=Object(n.d)(),c=Object(m.a)(t,2),a=c[0],s=c[1],i=e.slice(1).split("/")[0],o=function(e){switch(e){case ee.Phones:return"mobile phones";case ee.Accessories:return"accessories";case ee.Tablets:return"tablets";default:return"category doesn't exist"}}(i),u=Object(b.useState)(!0),j=Object(m.a)(u,2),d=j[0],h=j[1],O=Object(b.useState)([]),g=Object(m.a)(O,2),p=g[0],_=g[1],x=Object(b.useState)(""),N=Object(m.a)(x,2),y=N[0],k=N[1],C=me(p),P=C.visibleProducts,S=C.totalVisibleProducts,E=C.query,M=C.onPage,I=C.page,A=S>M,q=Object(b.useRef)(0),L=function(){var e=Object(v.a)(w.a.mark((function e(){var t,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_([]),h(!0),e.next=5,T();case 5:t=e.sent,c=t.filter((function(e){return e.category===i})),_(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),k("Error occured while loading products from server");case 13:return e.prev=13,h(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return Object(b.useEffect)((function(){L()}),[i]),Object(b.useEffect)((function(){if(q.current<2)q.current+=1;else if(I&&!A){var e=f({page:null},a);s(e,{replace:!0})}}),[I,M,q.current]),Object(l.jsxs)("div",{className:"category-page",children:[Object(l.jsx)("div",{className:"category-page__breadcrumbs",children:Object(l.jsx)(ae,{})}),Object(l.jsx)("h1",{className:"category-page__title",children:o}),Object(l.jsx)("p",{className:"category-page__models-count",children:d?"Loading . . .":"".concat(p.length," models")}),d&&Object(l.jsx)(K,{}),!d&&!p.length&&Object(l.jsx)(je,{query:i,caseName:ne.EmptyCategory}),!d&&!!p.length&&!S&&Object(l.jsx)(je,{query:E,caseName:ne.NoSearchResults}),y&&Object(l.jsx)(te,{errorMessage:y,setErrorMessage:k}),!d&&!!S&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"category-page__dropdowns",children:[Object(l.jsx)(oe,{dropdownType:se.Sorter}),Object(l.jsx)(oe,{dropdownType:se.Paginator})]}),Object(l.jsx)("div",{className:"category-page__product-cards",children:P.map((function(e){return Object(l.jsx)(V,{hasDiscount:!0,product:e},e.id)}))}),A&&Object(l.jsx)(de,{totalItems:S,itemsPerPage:M,activePage:I})]})]})},he=(c(57),function(){var e=Object(r.n)().state,t=Object(r.p)();return Object(l.jsxs)("button",{type:"button",className:"go-back-button",onClick:function(){t(e||"..")},children:[Object(l.jsx)("img",{className:"go-back-button__arrow",src:"./img/icons/LeftArrow.svg",alt:"Left Arrow"}),"Back"]})}),Oe=(c(58),c(59),function(e){var t=e.cartItem,c=t.good,a=t.quantity,s=t.itemTotalPrice,r=c.category,i=c.itemId,o=c.name,u=c.image,j=Object(b.useContext)(q).changeCart;return Object(l.jsxs)("div",{className:"cart-item-card",children:[Object(l.jsx)("button",{type:"button",className:"cart-item-card__remove-button",onClick:function(){return j(i,-a)},children:Object(l.jsx)("img",{src:"./img/icons/Close.svg",alt:"X",className:"cart-item-card__remove-button-img"})}),Object(l.jsxs)(n.b,{to:"/".concat(r,"/").concat(i),state:"/cart",className:"cart-item-card__link",children:[Object(l.jsx)("img",{src:C+u,alt:o,className:"cart-item-card__image"}),Object(l.jsx)("p",{className:"cart-item-card__name",children:o})]}),Object(l.jsxs)("div",{className:"cart-item-card__summary",children:[Object(l.jsxs)("div",{className:"cart-item-card__qty-conrlols",children:[Object(l.jsx)(X,{handleClick:function(){return j(i,-1)},disabled:a<=1,imgName:"Minus"}),a,Object(l.jsx)(X,{handleClick:function(){return j(i,1)},disabled:!1,imgName:"Plus"})]}),Object(l.jsx)("p",{className:"cart-item-card__item-total-price",children:"$".concat(s)})]})]})}),ge=function(){var e=Object(b.useState)(""),t=Object(m.a)(e,2),c=t[0],a=t[1],s=Object(b.useContext)(q),n=s.cart,r=s.cartItemsNumber,i=Object(b.useMemo)((function(){return Object.values(n)}),[n]),o=Object(b.useMemo)((function(){return i.reduce((function(e,t){var c=t.good,a=t.quantity;return e+c.price*a}),0)}),[n]);return Object(l.jsxs)("div",{className:"cart-page",children:[c&&Object(l.jsx)(te,{errorMessage:c,setErrorMessage:a}),Object(l.jsx)("div",{className:"cart-page__go-back",children:Object(l.jsx)(he,{})}),Object(l.jsx)("h1",{className:"cart-page__title",children:"cart"}),i.length?Object(l.jsxs)("section",{className:"cart-page__main",children:[Object(l.jsx)("div",{className:"cart-page__items",children:i.map((function(e){return Object(l.jsx)(Oe,{cartItem:e},e.good.id)}))}),Object(l.jsxs)("div",{className:"cart-page__summary",children:[Object(l.jsx)("h1",{className:"cart-page__total-price",children:"$".concat(o)}),Object(l.jsx)("p",{className:"cart-page__total-items",children:"Total for ".concat(r," item").concat(1!==r?"s":"")}),Object(l.jsx)("button",{type:"button",className:"cart-page__checkout-button",onClick:function(){a("We are sorry, but this feature is not implemented yet.")},children:"Checkout"})]})]}):Object(l.jsx)(je,{caseName:ne.EmptyCart})]})},pe=(c(60),function(){var e=Object(b.useContext)(q),t=e.products,c=e.favouriteIds,a=t.filter((function(e){return c.includes(e.itemId)})),s=me(a),n=s.visibleProducts,r=s.query;return Object(l.jsxs)("section",{className:"favourites-page",children:[Object(l.jsx)("div",{className:"favourites-page__breadcrumbs",children:Object(l.jsx)(ae,{})}),Object(l.jsx)("h1",{className:"favourites-page__title",children:"Favourites"}),Object(l.jsx)("p",{className:"favourites-page__items-counter",children:"".concat(c.length," items")}),r&&!!n.length&&Object(l.jsx)("h2",{className:"favourites-page__search-results",children:'Search results for "'.concat(r,'":')}),!!a.length&&!!n.length&&Object(l.jsx)("div",{className:"favourites-page__product-cards",children:n.map((function(e){return Object(l.jsx)(V,{hasDiscount:!1,product:e},e.id)}))}),!!a.length&&!n.length&&Object(l.jsx)(je,{caseName:ne.NoSearchResults,query:r}),!c.length&&Object(l.jsx)(je,{caseName:ne.EmptyFavourites})]})}),_e=(c(61),function(){return Object(l.jsxs)("section",{className:"page-not-found",children:[Object(l.jsx)("h1",{className:"page-not-found__title",children:"Oooops 404!"}),Object(l.jsx)("div",{className:"page-not-found__no-results",children:Object(l.jsx)(je,{caseName:ne.PageNotFound})}),Object(l.jsx)(n.b,{to:"/",className:"page-not-found__go-home-button",children:"Take me home"})]})}),fe=(c(62),c(63),c(64),function(e){var t=e.url,c=e.onClose,a=O(!0),s=Object(m.a)(a,2),n=s[0],r=s[1];return Object(b.useEffect)((function(){return function(){c("")}}),[r]),Object(l.jsx)("div",{className:"image-modal",ref:n,children:Object(l.jsx)("div",{className:"image-modal__content",children:Object(l.jsx)("img",{src:t,alt:"Modal",className:"image-modal__img"})})})}),xe={black:"#1f2020",rosegold:"#fad7bd",gold:"#f9e5c9",silver:"#ebebe3",spacegray:"#535150",midnightgreen:"#4e5851",green:"#364935",yellow:"#ffe681",white:"#f9f6ef",purple:"#d1cdda",red:"#ba0c2e",coral:"#ee7762"},ve=function(e){var t=e.productDetails,c=Object(r.n)().pathname,a=t.id,s=t.namespaceId,i=t.name,u=t.capacityAvailable,j=t.capacity,d=t.priceRegular,h=t.priceDiscount,O=t.colorsAvailable,g=t.color,p=t.images,_=t.description,f=t.screen,x=t.resolution,v=t.processor,N=t.ram,y=t.camera,k=t.zoom,w=t.cell,P=Object(b.useState)(p[0]),S=Object(m.a)(P,2),E=S[0],T=S[1],M=Object(b.useState)(""),I=Object(m.a)(M,2),A=I[0],q=I[1],L=Object(b.useMemo)((function(){return U({screen:f,resolution:x,processor:v,ram:N})}),[t]),F=Object(b.useMemo)((function(){return U({screen:f,resolution:x,processor:v,ram:N,capacity:j,camera:y,zoom:k,cell:w.join(", ")})}),[t]);return Object(l.jsxs)("div",{className:"details",children:[A&&Object(l.jsx)(fe,{url:A,onClose:q}),Object(l.jsx)("h1",{className:"details__title",children:i}),Object(l.jsxs)("div",{className:"details__container",children:[Object(l.jsxs)("div",{className:"details__images",children:[Object(l.jsx)("div",{className:"details__thumbnails",children:p.map((function(e){return Object(l.jsx)("div",{role:"button",tabIndex:0,className:o()("details__thumbnail",{"details__thumbnail--active":e===E}),onMouseDown:function(){return T(e)},children:Object(l.jsx)("img",{className:"details__thumbnail-image",src:"".concat(C).concat(e),alt:"Thumbnail"})},e)}))}),Object(l.jsx)("div",{className:"details__main-image-container",children:Object(l.jsx)("button",{type:"button",className:"details__modal-opener",onClick:function(){q("".concat(C).concat(E))},children:Object(l.jsx)("img",{title:"View full size",className:"details__main-image",src:"".concat(C).concat(E),alt:"Main"})})})]}),Object(l.jsxs)("div",{className:"details__info",children:[Object(l.jsx)("div",{className:"details__info-id",children:"ID: ".concat(a)}),Object(l.jsxs)("div",{className:"details__info-main",children:[Object(l.jsxs)("div",{className:"details__colors",children:[Object(l.jsx)("p",{className:"details__info-title",children:"Available colors"}),Object(l.jsx)("div",{className:"details__product-options",children:O.map((function(e){var t=[s,j.toLowerCase(),e].join("-"),a=e===g;return Object(l.jsx)(n.b,{title:e,to:"../".concat(t),state:{pathname:c},className:o()("details__product-color",{"details__product-color--active":a}),style:{backgroundColor:xe[e]}},e)}))})]}),Object(l.jsxs)("div",{className:"details__capacities",children:[Object(l.jsx)("p",{className:"details__info-title",children:"Select capacity"}),Object(l.jsx)("div",{className:"details__product-options",children:u.map((function(e){var t=[s,e.toLowerCase(),g].join("-"),a=e===j;return Object(l.jsx)(n.b,{to:"../".concat(t),state:{pathname:c},className:o()("details__product-capacity",{"details__product-capacity--active":a}),children:e},e)}))})]}),Object(l.jsxs)("div",{className:"details__price",children:[Object(l.jsx)("span",{className:"details__price-discount",children:"$".concat(h)}),Object(l.jsx)("span",{className:"details__price-regular",children:"$".concat(d)})]}),Object(l.jsxs)("div",{className:"details__info-subcontainer",children:[Object(l.jsxs)("div",{className:"details__buttons",children:[Object(l.jsx)(J,{id:a}),Object(l.jsx)("div",{className:"details__buttons-fav-container",children:Object(l.jsx)(G,{id:a})})]}),Object(l.jsx)(z,{specs:L,mode:$.Medium})]})]})]}),Object(l.jsxs)("div",{className:"details__about",children:[Object(l.jsx)("h2",{className:"details__section-title",children:"About"}),_.map((function(e){var t=e.title,c=e.text;return Object(l.jsxs)("article",{className:"details__description",children:[Object(l.jsx)("h3",{className:"details__description-title",children:t}),Object(l.jsx)("p",{className:"details__description-body",children:c})]},t)}))]}),Object(l.jsxs)("div",{className:"details__tech-specs",children:[Object(l.jsx)("h2",{className:"details__section-title",children:"Tech specs"}),Object(l.jsx)(z,{specs:F,mode:$.Large})]})]})]})},Ne=function(e){return E("products/".concat(e,".json"))};var ye=function(){var e=Object(r.r)().itemId,t=void 0===e?"":e,c=function(e){var t=Object(b.useState)(!0),c=Object(m.a)(t,2),a=c[0],s=c[1],n=Object(b.useState)(null),r=Object(m.a)(n,2),i=r[0],o=r[1],l=Object(b.useState)(""),u=Object(m.a)(l,2),d=u[0],h=u[1],O=function(){var t=Object(v.a)(w.a.mark((function t(){var c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o(null),s(!0),t.next=5,Ne(e);case 5:c=t.sent,o(c),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),h("Error occured while loading product details");case 12:return t.prev=12,s(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})));return function(){return t.apply(this,arguments)}}();return Object(b.useEffect)((function(){O();var e=setTimeout((function(){j()}),500);return function(){clearTimeout(e)}}),[e]),[a,i,d,h]}(t),a=Object(m.a)(c,4),s=a[0],n=a[1],i=a[2],o=a[3],u=Z({suggested:[]}),d=Object(m.a)(u,3),h=d[0].suggested,O=d[1],g=d[2];return Object(l.jsxs)("div",{className:"product-details",children:[Object(l.jsx)("div",{className:"product-details__breadcrumbs",children:Object(l.jsx)(ae,{})}),Object(l.jsx)("div",{className:"product-details__go-back",children:Object(l.jsx)(he,{})}),s&&Object(l.jsx)(K,{}),i&&Object(l.jsx)(te,{errorMessage:i,setErrorMessage:o}),!s&&!n&&Object(l.jsx)(je,{query:"".concat(t),caseName:ne.ProductDoesntExist}),!s&&n&&Object(l.jsx)("div",{className:"product-details__details",children:Object(l.jsx)(ve,{productDetails:n})}),O&&Object(l.jsx)(K,{}),!O&&!g&&Object(l.jsx)(Y,{name:I.Suggested,products:h})]})},ke=function(){return Object(l.jsx)(n.a,{children:Object(l.jsx)(r.e,{children:Object(l.jsxs)(r.c,{path:"/",element:Object(l.jsx)(B,{}),children:[Object(l.jsx)(r.c,{index:!0,element:Object(l.jsx)(ce,{})}),Object(l.jsx)(r.c,{path:"home",element:Object(l.jsx)(r.a,{to:"/",replace:!0})}),Object(l.jsxs)(r.c,{path:"phones",children:[Object(l.jsx)(r.c,{index:!0,element:Object(l.jsx)(be,{})}),Object(l.jsx)(r.c,{path:":itemId",element:Object(l.jsx)(ye,{})})]}),Object(l.jsxs)(r.c,{path:"tablets",children:[Object(l.jsx)(r.c,{index:!0,element:Object(l.jsx)(be,{})}),Object(l.jsx)(r.c,{path:":itemId",element:Object(l.jsx)(ye,{})})]}),Object(l.jsxs)(r.c,{path:"accessories",children:[Object(l.jsx)(r.c,{index:!0,element:Object(l.jsx)(be,{})}),Object(l.jsx)(r.c,{path:":itemId",element:Object(l.jsx)(ye,{})})]}),Object(l.jsx)(r.c,{path:"favourites",element:Object(l.jsx)(pe,{})}),Object(l.jsx)(r.c,{path:"cart",element:Object(l.jsx)(ge,{})}),Object(l.jsx)(r.c,{path:"*",element:Object(l.jsx)(_e,{})})]})})})};s.a.render(Object(l.jsx)(ke,{}),document.getElementById("root"))}]),[[65,1,2]]]);
//# sourceMappingURL=main.4cdaf216.chunk.js.map